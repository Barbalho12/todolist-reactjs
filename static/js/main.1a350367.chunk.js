(this["webpackJsonptodolist-reactjs"]=this["webpackJsonptodolist-reactjs"]||[]).push([[0],{134:function(e,t,n){e.exports=n(243)},243:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(12),o=n.n(c),u=n(11),i=n(56),l=n(278),s=n(31),p=n(32);function f(){var e=Object(s.a)(["\n  width: 100%;\n  text-align: center;\n  text-decoration: none;\n  padding-top: 10px;\n  color: #eee;\n  &:hover {\n    color: #f50057;\n  }\n"]);return f=function(){return e},e}function m(){var e=Object(s.a)(["\n  display: flex;\n  flex-shrink: 0;\n  align-items: center;\n  width: 200px;\n  height: 100%;\n  background-color: #252526;\n  flex-direction: column;\n  transition: all 0.2s ease 0s;\n  &:hover {\n    width: 240px;\n  }\n"]);return m=function(){return e},e}var d=p.b.aside(m()),h=Object(p.b)(i.b)(f()),b=n(281),v=n(294),g=n(297),E=n(286),k=n(284),x=n(283),y=n(83),j=n.n(y),w=n(8),O=n.n(w),C=n(18),B="https://staging-todolist.herokuapp.com",S="".concat(B,"/tasks"),A={findAll:function(){var e=Object(C.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(S),e.next=3,fetch(t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),findAllCompleteds:function(){var e=Object(C.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(S,"/completeds"),e.next=3,fetch(t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),findAllLefts:function(){var e=Object(C.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(S,"/lefts"),e.next=3,fetch(t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),setCompleted:function(){var e=Object(C.a)(O.a.mark((function e(t,n){var a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(S,"/").concat(t,"/set-completed/").concat(n),e.next=3,fetch(a,{method:"PUT"});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),create:function(){var e=Object(C.a)(O.a.mark((function e(t,n){var a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(S),e.next=3,fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:t,block:{id:n.id}})});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),delete:function(){var e=Object(C.a)(O.a.mark((function e(t){var n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(S,"/").concat(t),e.next=3,fetch(n,{method:"DELETE"});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(C.a)(O.a.mark((function e(t,n){var a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(S,"/").concat(t),e.next=3,fetch(a,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getUserByEmail:function(){var e=Object(C.a)(O.a.mark((function e(t){var n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(B,"/users/by-email/").concat(t),e.next=3,fetch(n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getBlocksByUserEmail:function(){var e=Object(C.a)(O.a.mark((function e(t){var n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(B,"/blocks"),e.next=3,fetch(n,{method:"GET",headers:{"Content-Type":"application/json",user:t}});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),findAllByBlock:function(){var e=Object(C.a)(O.a.mark((function e(t){var n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(S),e.next=3,fetch(n,{method:"GET",headers:{"Content-Type":"application/json",block:t.id}});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),findAllCompletedsByBlock:function(){var e=Object(C.a)(O.a.mark((function e(t){var n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(S,"/completeds"),e.next=3,fetch(n,{method:"GET",headers:{"Content-Type":"application/json",block:t.id}});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),findAllLeftsByBlock:function(){var e=Object(C.a)(O.a.mark((function e(t){var n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(S,"/lefts"),e.next=3,fetch(n,{method:"GET",headers:{"Content-Type":"application/json",block:t.id}});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),createBlock:function(){var e=Object(C.a)(O.a.mark((function e(t,n){var a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(B,"/blocks/").concat(n),e.next=3,fetch(a,{method:"POST",headers:{user:t}});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),removeBlock:function(){var e=Object(C.a)(O.a.mark((function e(t){var n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(B,"/blocks/").concat(t),e.next=3,fetch(n,{method:"DELETE"});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),createUser:function(){var e=Object(C.a)(O.a.mark((function e(t){var n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(B,"/users"),e.next=3,fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),webSocketURL:"".concat(B,"/subscribe")},T=Object(l.a)((function(e){return{bottom:{marginTop:"40px",padding:"10px"}}}));var N=function(e){var t=e.user,n=e.setBlocks,a=r.a.useState(!1),c=Object(u.a)(a,2),o=c[0],i=c[1],l=r.a.useState(""),s=Object(u.a)(l,2),p=s[0],f=s[1],m=T(),d=function(){i(!1)};return r.a.createElement("div",null,r.a.createElement(b.a,{className:m.bottom,color:"primary",onClick:function(){i(!0)}},r.a.createElement(j.a,null),"Novo bloco"),r.a.createElement(g.a,{open:o,onClose:d,"aria-labelledby":"form-dialog-title"},r.a.createElement(x.a,{id:"form-dialog-title"},"Adicionar novo bloco de tarefas"),r.a.createElement(k.a,null,r.a.createElement(v.a,{autoFocus:!0,id:"name",label:"Novo bloco",type:"text",fullWidth:!0,value:p,onChange:function(e){f(e.target.value)}})),r.a.createElement(E.a,null,r.a.createElement(b.a,{onClick:function(e){e.preventDefault(),p&&p.length>=1&&A.createBlock(t.email,p).then((function(e){console.log(e),200!=e.status&&201!=e.status||e.json().then((function(e){A.getBlocksByUserEmail(t.email).then((function(e){e.json().then((function(e){n(e),f(""),d()}))}))}))}))},color:"primary"},"Adicionar"),r.a.createElement(b.a,{onClick:d,color:"secondary"},"Cancelar"))))},U=Object(l.a)((function(e){return{list:{color:"primary",marginTop:"10px"}}})),I=function(e){var t=e.user,n=e.blocks,a=e.setBlocks,c=U();return r.a.createElement(d,null,r.a.createElement("div",{className:c.list}),n.map((function(e){return r.a.createElement(b.a,{key:"block-".concat(e.id),color:"primary"},r.a.createElement(h,{to:"/".concat(e.name)},e.name))})),r.a.createElement(N,{key:"add",user:t,setBlocks:a}))},R=Object(l.a)((function(e){return{topRigth:{position:"absolute",right:"10px",top:"10px",display:"flex",justifyItems:"center",alignItems:"center"},name:{color:"grey"}}})),D=function(){var e=R();return r.a.createElement(b.a,{color:"primary",onClick:function(){localStorage.removeItem("@todo-app/username"),window.location.reload()},className:e.btlogout},"SAIR")},L=function(e){var t=e.user,n=R();return r.a.createElement("div",{className:n.topRigth},r.a.createElement("p",{className:n.name},t.email),r.a.createElement(D,null))},P=n(14);function W(){var e=Object(s.a)(["\n  color: #009cde;\n"]);return W=function(){return e},e}function J(){var e=Object(s.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n"]);return J=function(){return e},e}var z=p.b.div(J()),F=(p.b.h1(W()),n(293)),G=Object(l.a)((function(e){return{button:{margin:"10px",width:"90%"},inputtext:{margin:"10px",width:"90%"}}})),V=function(e){var t=e.createTask,n=r.a.useState(""),a=Object(u.a)(n,2),c=a[0],o=a[1],i=G(),l=function(e){e.preventDefault(),t(c),o("")};return r.a.createElement("form",{className:i.inputtext,onSubmit:l,noValidate:!0,autoComplete:"off"},r.a.createElement(v.a,{id:"standard-basic",value:c,label:"Nova tarefa",onChange:function(e){o(e.target.value)},className:i.inputtext}),r.a.createElement(b.a,{variant:"contained",onClick:l,color:"primary",className:i.button},"ADICIONAR"))},q=n(287),H=n(288),M=n(118),K=n.n(M),Q=n(117),X=n.n(Q),Y=n(116),Z=n.n(Y),$=Object(l.a)((function(e){return{root:{width:"100%",maxWidth:360,justifyContent:"center",backgroundColor:e.palette.background.paper,padding:"10px"}}})),_=function(e){var t=e.pageValue,n=e.onPageChange,a=$();return r.a.createElement(q.a,{value:t,onChange:n,showLabels:!0,className:a.root},r.a.createElement(H.a,{label:"Todas",value:0,icon:r.a.createElement(Z.a,null)}),r.a.createElement(H.a,{label:"Pendentes",value:1,icon:r.a.createElement(X.a,null)}),r.a.createElement(H.a,{label:"Conclu\xeddas",value:2,icon:r.a.createElement(K.a,null)}))},ee=n(285),te=n(289),ne=n(290),ae=n(292),re=n(296),ce=n(291),oe=n(119),ue=n.n(oe),ie=function(e){var t=e.task,n=e.deleteAction,a=e.checkAction;return r.a.createElement(te.a,{role:void 0,dense:!0,button:!0,onClick:a(t)},r.a.createElement(ne.a,null,r.a.createElement(re.a,{edge:"start",checked:t.completed,tabIndex:t.id,disableRipple:!0})),r.a.createElement(ae.a,{id:"checkbox-description-".concat(t.id),primary:t.description}),r.a.createElement(ce.a,{edge:"end",color:"secondary","aria-label":"clear",onClick:function(){n(t.id)}},r.a.createElement(ue.a,null)))},le=Object(l.a)((function(e){return{list:{maxHeight:300,overflow:"auto",width:"100%",maxWidth:360,justifyContent:"center",backgroundColor:e.palette.background.paper,padding:"10px"}}})),se=function(e){var t=e.listItens,n=e.deleteAction,a=e.checkAction,c=le();return r.a.createElement(ee.a,{className:c.list},t.map((function(e){return r.a.createElement(ie,{task:e,key:"".concat(e.id),deleteAction:n,checkAction:a})})))},pe=n(120),fe=n.n(pe),me=function(e){var t=e.onReceive;return r.a.createElement(fe.a,{url:A.webSocketURL,topics:["/topic/tasks"],onMessage:function(e){t()}})},de=function(e){var t=e.block,n=r.a.useState(0),c=Object(u.a)(n,2),o=c[0],i=c[1],l=r.a.useState([]),s=Object(u.a)(l,2),p=s[0],f=s[1],m=0,d=function(){0===m?A.findAllByBlock(t).then((function(e){e.json().then((function(e){f(e)}))})):1===m?A.findAllLeftsByBlock(t).then((function(e){e.json().then((function(e){f(e)}))})):2===m&&A.findAllCompletedsByBlock(t).then((function(e){e.json().then((function(e){f(e)}))}))};Object(a.useEffect)((function(){d()}),[]);return r.a.createElement("div",null,r.a.createElement(V,{createTask:function(e){A.create(e,t).then((function(e){d()}))}}),r.a.createElement(se,{listItens:p,deleteAction:function(e){A.delete(e).then((function(e){d()}))},checkAction:function(e){return function(){e.completed=!e.completed,A.setCompleted(e.id,e.completed).then((function(e){d()}))}}}),r.a.createElement(me,{onReceive:d}),r.a.createElement(_,{pageValue:o,onPageChange:function(e,t){i(t),m=t,d()}}))},he=Object(l.a)((function(e){return{root:{width:"100%",maxWidth:360,justifyContent:"center",backgroundColor:e.palette.background.paper,padding:"10px"},container:{flexDirection:"column"},title:{margin:"20px",color:e.palette.primary.main},delete:{fontSize:"10pt"}}})),be=function(e){var t=e.block,n=e.setBlocks,c=he();Object(a.useEffect)((function(){console.log(t)}),[]);return r.a.createElement(z,{className:c.container},r.a.createElement("h1",{className:c.title},t.name),r.a.createElement(F.a,{className:c.root},r.a.createElement(de,{block:t})),r.a.createElement(b.a,{className:c.delete,onClick:function(){A.removeBlock(t.id).then((function(e){400==e.status&&500==e.status&&404==e.status||A.getBlocksByUserEmail(t.user.email).then((function(e){e.json().then((function(e){n(e)}))}))}))},color:"secondary"}," Remover"))},ve=function(e){var t=e.user,n=e.blocks,a=e.setBlocks;return r.a.createElement(P.c,null,n.map((function(e){return r.a.createElement(P.a,{key:"".concat(e.id),path:"/".concat(e.name),render:function(t){return r.a.createElement(be,{block:e,setBlocks:a})}})})),r.a.createElement(P.a,{key:"new",path:"/new",exact:!0,render:function(e){return r.a.createElement(N,{user:t,blocks:n})}}))};function ge(){var e=Object(s.a)(["\n  * {\n      margin: 0;\n      padding: 0;\n      box-sizing: border-box;\n      outline: 0;\n    }\n    html,\n    body,\n    #root {\n      height: 100%;\n    }\n    body {\n      text-rendering: optimizeLegibility !important;\n      font-family: sans-serif;\n      -webkit-font-smoothing: antialiased;\n      background: #eee;\n    }\n"]);return ge=function(){return e},e}function Ee(){var e=Object(s.a)(["\n  display: flex;\n  width: 100%;\n  height: 100%;\n"]);return Ee=function(){return e},e}var ke=p.b.div(Ee()),xe=Object(p.a)(ge());var ye=function(e){var t=e.user,n=r.a.useState([]),c=Object(u.a)(n,2),o=c[0],l=c[1];return Object(a.useEffect)((function(){A.getBlocksByUserEmail(t.email).then((function(e){e.json().then((function(e){console.log(e),l(e)}))}))}),[]),r.a.createElement(i.a,null,r.a.createElement(xe,null),r.a.createElement(ke,null,r.a.createElement(I,{user:t,blocks:o,setBlocks:l}),r.a.createElement(ve,{user:t,blocks:o,setBlocks:l}),r.a.createElement(L,{user:t})))},je=Object(l.a)((function(e){return{bottom:{marginTop:"40px",padding:"10px"}}}));var we=function(e){var t=e.setUser,n=e.setOpen,a=r.a.useState(""),c=Object(u.a)(a,2),o=c[0],i=c[1],l=r.a.useState(""),s=Object(u.a)(l,2),p=s[0],f=s[1],m=r.a.useState(""),d=Object(u.a)(m,2),h=d[0],y=d[1],j=(je(),function(){n(!1)});return r.a.createElement("div",null,r.a.createElement(g.a,{open:!0,onClose:j,"aria-labelledby":"form-dialog-title"},r.a.createElement(x.a,{id:"form-dialog-title"},"Cadastre-se"),r.a.createElement(k.a,null,r.a.createElement(v.a,{autoFocus:!0,id:"name",label:"Nome",type:"text",fullWidth:!0,value:o,onChange:function(e){i(e.target.value)}})),r.a.createElement(k.a,null,r.a.createElement(v.a,{autoFocus:!0,id:"email",label:"Email",type:"email",fullWidth:!0,value:p,onChange:function(e){f(e.target.value)}})),r.a.createElement(k.a,null,r.a.createElement(v.a,{autoFocus:!0,id:"password",label:"Password",type:"password",fullWidth:!0,value:h,onChange:function(e){y(e.target.value)}})),r.a.createElement(E.a,null,r.a.createElement(b.a,{onClick:function(e){e.preventDefault();var n={name:o,email:p,password:h};o&&o.length>=1&&p&&p.length>=1&&h&&h.length>=1?A.createUser(n).then((function(e){200==e.code||201==e.code?e.json().then((function(e){t(e)})):alert("N\xe3o foi poss\xedvel criar o usu\xe1rio!")})):alert("dados inv\xe1lidos!")},color:"primary"},"Adicionar"),r.a.createElement(b.a,{onClick:j,color:"secondary"},"Cancelar"))))},Oe={center:{width:"100%",display:"flex",justifyContent:"center"},container:{display:"flex",textAlign:"center",flexDirection:"column",width:400,justifyContent:"center",boxShadow:"rgba(0, 0, 0, 0.1) 0px 0px 20px",background:"rgb(255, 255, 255)",borderRadius:"4px",padding:"30px 20px"},submitButton:{height:"40px",textAlign:"center",alignItems:"center",borderRadius:"4px",fontWeight:"bold",fontSize:"14px",border:0,color:"#fff",background:"#009587",marginTop:"5px"},username:{height:"40px",padding:"0 15px",border:"1px solid #eee",borderRadius:"4px",marginBottom:"10px",color:"#444"}},Ce=function(){var e=r.a.useState(null),t=Object(u.a)(e,2),n=t[0],c=t[1],o=r.a.useState(!1),i=Object(u.a)(o,2),l=i[0],s=i[1];Object(a.useEffect)((function(){var e=localStorage.getItem("@todo-app/username");null!=e&&A.getUserByEmail(e).then((function(e){200===e.status?e.json().then((function(e){c(e)})):localStorage.removeItem("@todo-app/username")}))}),[]);return null!==n?r.a.createElement(ye,{user:n}):r.a.createElement("div",{style:Oe.center},r.a.createElement("form",{style:Oe.container,onSubmit:function(e){e.preventDefault();var t=e.target.elements.username.value;A.getUserByEmail(t).then((function(e){console.log(e),200===e.status?e.json().then((function(e){c(e),localStorage.setItem("@todo-app/username",e.email)})):alert("N\xe3o foi poss\xedvel encontrar o usu\xe1rio!")}))}},r.a.createElement("input",{style:Oe.username,type:"text",name:"username",placeholder:"Email do usu\xe1rio",required:!0}),r.a.createElement("button",{type:"submit",style:Oe.submitButton},"Entrar"),r.a.createElement(b.a,{onClick:function(e){e.preventDefault(),s(!0)},color:"primary"},"Cadastre-se")),l?r.a.createElement(we,{setUser:c,setOpen:s}):null)};o.a.render(r.a.createElement(Ce,null),document.getElementById("root"))}},[[134,1,2]]]);
//# sourceMappingURL=main.1a350367.chunk.js.map