(this["webpackJsonptodolist-reactjs"]=this["webpackJsonptodolist-reactjs"]||[]).push([[0],{129:function(e,t,n){e.exports=n(238)},238:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(11),o=n.n(c),i=n(13),u=n(54),l=n(276),s=n(31),p=n(32);function f(){var e=Object(s.a)(["\n  width: 100%;\n  text-align: center;\n  text-decoration: none;\n  padding-top: 10px;\n  color: #eee;\n  &:hover {\n    color: #fff;\n  }\n"]);return f=function(){return e},e}function m(){var e=Object(s.a)(["\n  display: flex;\n  flex-shrink: 0;\n  align-items: center;\n  width: 100px;\n  height: 100%;\n  background-color: #252526;\n  flex-direction: column;\n  transition: all 0.2s ease 0s;\n  &:hover {\n    width: 240px;\n  }\n"]);return m=function(){return e},e}var d=p.b.aside(m()),b=Object(p.b)(u.b)(f()),h=n(279),v=n(292),x=n(295),g=n(284),k=n(282),E=n(281),y=n(10),j=n.n(y),w=n(19),O="https://staging-todolist.herokuapp.com",C="".concat(O,"/tasks"),B={findAll:function(){var e=Object(w.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(C),e.next=3,fetch(t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),findAllCompleteds:function(){var e=Object(w.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(C,"/completeds"),e.next=3,fetch(t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),findAllLefts:function(){var e=Object(w.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(C,"/lefts"),e.next=3,fetch(t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),setCompleted:function(){var e=Object(w.a)(j.a.mark((function e(t,n){var a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(C,"/").concat(t,"/set-completed/").concat(n),e.next=3,fetch(a,{method:"PUT"});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),create:function(){var e=Object(w.a)(j.a.mark((function e(t,n){var a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(C),e.next=3,fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({description:t,block:{id:n.id}})});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),delete:function(){var e=Object(w.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(C,"/").concat(t),e.next=3,fetch(n,{method:"DELETE"});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(w.a)(j.a.mark((function e(t,n){var a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(C,"/").concat(t),e.next=3,fetch(a,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getUserByEmail:function(){var e=Object(w.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(O,"/users/by-email/").concat(t),e.next=3,fetch(n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getBlocksByUserEmail:function(){var e=Object(w.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(O,"/blocks"),e.next=3,fetch(n,{method:"GET",headers:{"Content-Type":"application/json",user:t}});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),findAllByBlock:function(){var e=Object(w.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(C),e.next=3,fetch(n,{method:"GET",headers:{"Content-Type":"application/json",block:t.id}});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),findAllCompletedsByBlock:function(){var e=Object(w.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(C,"/completeds"),e.next=3,fetch(n,{method:"GET",headers:{"Content-Type":"application/json",block:t.id}});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),findAllLeftsByBlock:function(){var e=Object(w.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(C,"/lefts"),e.next=3,fetch(n,{method:"GET",headers:{"Content-Type":"application/json",block:t.id}});case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),createBlock:function(){var e=Object(w.a)(j.a.mark((function e(t,n){var a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(O,"/blocks/").concat(n),e.next=3,fetch(a,{method:"POST",headers:{user:t}});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),webSocketURL:"".concat(O,"/subscribe")},A=Object(l.a)((function(e){return{bottom:{marginTop:"100px",padding:"10px"}}}));var S=function(e){var t=e.user,n=e.setBlocks,a=r.a.useState(!1),c=Object(i.a)(a,2),o=c[0],u=c[1],l=r.a.useState(""),s=Object(i.a)(l,2),p=s[0],f=s[1],m=A(),d=function(){u(!1)};return r.a.createElement("div",null,r.a.createElement(h.a,{className:m.bottom,color:"primary",onClick:function(){u(!0)}},"Novo bloco"),r.a.createElement(x.a,{open:o,onClose:d,"aria-labelledby":"form-dialog-title"},r.a.createElement(E.a,{id:"form-dialog-title"},"Adicionar novo bloco de tarefas"),r.a.createElement(k.a,null,r.a.createElement(v.a,{autoFocus:!0,id:"name",label:"Novo bloco",type:"text",fullWidth:!0,value:p,onChange:function(e){f(e.target.value)}})),r.a.createElement(g.a,null,r.a.createElement(h.a,{onClick:function(e){e.preventDefault(),B.createBlock(t.email,p).then((function(e){e.json().then((function(e){B.getBlocksByUserEmail(t.email).then((function(e){e.json().then((function(e){n(e),f(""),d()}))}))}))}))},color:"primary"},"Adicionar"),r.a.createElement(h.a,{onClick:d,color:"secondary"},"Cancelar"))))},T=Object(l.a)((function(e){return{list:{color:"primary",marginTop:"10px"}}})),N=function(e){var t=e.user,n=e.blocks,a=e.setBlocks,c=T();return r.a.createElement(d,null,r.a.createElement("div",{className:c.list}),n.map((function(e){return r.a.createElement(b,{key:"".concat(e.id),to:"/".concat(e.name)},e.name)})),r.a.createElement(S,{user:t,setBlocks:a}))},R=Object(l.a)((function(e){return{topRigth:{position:"absolute",right:"10px",top:"10px"}}})),I=function(){var e=R();return r.a.createElement(h.a,{color:"primary",onClick:function(){localStorage.removeItem("@todo-app/username"),window.location.reload()},className:e.btlogout},"SAIR")},U=function(e){var t=e.user,n=R();return r.a.createElement("div",{className:n.topRigth},r.a.createElement("h2",null,t.name),r.a.createElement(I,null))},L=n(14);function D(){var e=Object(s.a)(["\n  color: #009cde;\n"]);return D=function(){return e},e}function P(){var e=Object(s.a)(["\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  align-items: center;\n"]);return P=function(){return e},e}var W=p.b.div(P()),G=(p.b.h1(D()),n(291)),J=Object(l.a)((function(e){return{button:{margin:"10px",width:"90%"},inputtext:{margin:"10px",width:"90%"}}})),z=function(e){var t=e.createTask,n=r.a.useState(""),a=Object(i.a)(n,2),c=a[0],o=a[1],u=J(),l=function(e){e.preventDefault(),t(c),o("")};return r.a.createElement("form",{className:u.inputtext,onSubmit:l,noValidate:!0,autoComplete:"off"},r.a.createElement(v.a,{id:"standard-basic",value:c,label:"Nova tarefa",onChange:function(e){o(e.target.value)},className:u.inputtext}),r.a.createElement(h.a,{variant:"contained",onClick:l,color:"primary",className:u.button},"ADICIONAR"))},V=n(285),q=n(286),F=n(116),H=n.n(F),M=n(115),K=n.n(M),Q=n(114),X=n.n(Q),Y=Object(l.a)((function(e){return{root:{width:"100%",maxWidth:360,justifyContent:"center",backgroundColor:e.palette.background.paper,padding:"10px"}}})),Z=function(e){var t=e.pageValue,n=e.onPageChange,a=Y();return r.a.createElement(V.a,{value:t,onChange:n,showLabels:!0,className:a.root},r.a.createElement(q.a,{label:"Todas",value:0,icon:r.a.createElement(X.a,null)}),r.a.createElement(q.a,{label:"Pendentes",value:1,icon:r.a.createElement(K.a,null)}),r.a.createElement(q.a,{label:"Conclu\xeddas",value:2,icon:r.a.createElement(H.a,null)}))},$=n(283),_=n(287),ee=n(288),te=n(290),ne=n(294),ae=n(289),re=n(117),ce=n.n(re),oe=function(e){var t=e.task,n=e.deleteAction,a=e.checkAction;return r.a.createElement(_.a,{role:void 0,dense:!0,button:!0,onClick:a(t)},r.a.createElement(ee.a,null,r.a.createElement(ne.a,{edge:"start",checked:t.completed,tabIndex:t.id,disableRipple:!0})),r.a.createElement(te.a,{id:"checkbox-description-".concat(t.id),primary:t.description}),r.a.createElement(ae.a,{edge:"end",color:"secondary","aria-label":"clear",onClick:function(){n(t.id)}},r.a.createElement(ce.a,null)))},ie=Object(l.a)((function(e){return{list:{maxHeight:300,overflow:"auto",width:"100%",maxWidth:360,justifyContent:"center",backgroundColor:e.palette.background.paper,padding:"10px"}}})),ue=function(e){var t=e.listItens,n=e.deleteAction,a=e.checkAction,c=ie();return r.a.createElement($.a,{className:c.list},t.map((function(e){return r.a.createElement(oe,{task:e,key:"".concat(e.id),deleteAction:n,checkAction:a})})))},le=n(118),se=n.n(le),pe=function(e){var t=e.onReceive;return r.a.createElement(se.a,{url:B.webSocketURL,topics:["/topic/tasks"],onMessage:function(e){t()}})},fe=function(e){var t=e.block,n=r.a.useState(0),c=Object(i.a)(n,2),o=c[0],u=c[1],l=r.a.useState([]),s=Object(i.a)(l,2),p=s[0],f=s[1],m=0,d=function(){0===m?B.findAllByBlock(t).then((function(e){e.json().then((function(e){f(e)}))})):1===m?B.findAllLeftsByBlock(t).then((function(e){e.json().then((function(e){f(e)}))})):2===m&&B.findAllCompletedsByBlock(t).then((function(e){e.json().then((function(e){f(e)}))}))};Object(a.useEffect)((function(){d()}),[]);return r.a.createElement("div",null,r.a.createElement(z,{createTask:function(e){B.create(e,t).then((function(e){d()}))}}),r.a.createElement(ue,{listItens:p,deleteAction:function(e){B.delete(e).then((function(e){d()}))},checkAction:function(e){return function(){e.completed=!e.completed,B.setCompleted(e.id,e.completed).then((function(e){d()}))}}}),r.a.createElement(pe,{onReceive:d}),r.a.createElement(Z,{pageValue:o,onPageChange:function(e,t){u(t),m=t,d()}}))},me=Object(l.a)((function(e){return{root:{width:"100%",maxWidth:360,justifyContent:"center",backgroundColor:e.palette.background.paper,padding:"10px"},container:{flexDirection:"column"},title:{margin:"20px",color:e.palette.primary.main}}})),de=function(e){var t=e.block,n=me();return Object(a.useEffect)((function(){console.log(t)}),[]),r.a.createElement(W,{className:n.container},r.a.createElement("h1",{className:n.title},t.name),r.a.createElement(G.a,{className:n.root},r.a.createElement(fe,{block:t})))},be=function(e){var t=e.user,n=e.blocks;return r.a.createElement(L.c,null,n.map((function(e){return r.a.createElement(L.a,{key:"".concat(e.id),path:"/".concat(e.name),render:function(t){return r.a.createElement(de,{block:e})}})})),r.a.createElement(L.a,{path:"/new",exact:!0,render:function(e){return r.a.createElement(S,{user:t,blocks:n})}}))};function he(){var e=Object(s.a)(["\n  * {\n      margin: 0;\n      padding: 0;\n      box-sizing: border-box;\n      outline: 0;\n    }\n    html,\n    body,\n    #root {\n      height: 100%;\n    }\n    body {\n      text-rendering: optimizeLegibility !important;\n      font-family: sans-serif;\n      -webkit-font-smoothing: antialiased;\n      background: #eee;\n    }\n"]);return he=function(){return e},e}function ve(){var e=Object(s.a)(["\n  display: flex;\n  width: 100%;\n  height: 100%;\n"]);return ve=function(){return e},e}var xe=p.b.div(ve()),ge=Object(p.a)(he());var ke=function(e){var t=e.user,n=r.a.useState([]),c=Object(i.a)(n,2),o=c[0],l=c[1];return Object(a.useEffect)((function(){B.getBlocksByUserEmail(t.email).then((function(e){e.json().then((function(e){console.log(e),l(e)}))}))}),[]),r.a.createElement(u.a,null,r.a.createElement(ge,null),r.a.createElement(xe,null,r.a.createElement(N,{user:t,blocks:o,setBlocks:l}),r.a.createElement(be,{user:t,blocks:o}),r.a.createElement(U,{user:t})))},Ee={container:{display:"flex",textAlign:"center",flexDirection:"column",minWidth:"300px",boxShadow:"rgba(0, 0, 0, 0.1) 0px 0px 20px",background:"rgb(255, 255, 255)",borderRadius:"4px",padding:"30px 20px"},submitButton:{height:"40px",textAlign:"center",alignItems:"center",borderRadius:"4px",fontWeight:"bold",fontSize:"14px",border:0,color:"#fff",background:"#009587",marginTop:"5px"},username:{height:"40px",padding:"0 15px",border:"1px solid #eee",borderRadius:"4px",marginBottom:"10px",color:"#444"}},ye=function(){var e=r.a.useState(null),t=Object(i.a)(e,2),n=t[0],c=t[1];Object(a.useEffect)((function(){var e=localStorage.getItem("@todo-app/username");null!=e&&B.getUserByEmail(e).then((function(e){e.json().then((function(e){c(e)}))}))}),[]);return null!==n?r.a.createElement(ke,{user:n}):r.a.createElement("form",{style:Ee.container,onSubmit:function(e){e.preventDefault();var t=e.target.elements.username.value;B.getUserByEmail(t).then((function(e){console.log(e),e.json().then((function(e){c(e),localStorage.setItem("@todo-app/username",e.email)}))}))}},r.a.createElement("input",{style:Ee.username,type:"text",name:"username",placeholder:"Email do usu\xe1rio",required:!0}),r.a.createElement("button",{type:"submit",style:Ee.submitButton},"Entrar"))};o.a.render(r.a.createElement(ye,null),document.getElementById("root"))}},[[129,1,2]]]);
//# sourceMappingURL=main.d066aaa5.chunk.js.map